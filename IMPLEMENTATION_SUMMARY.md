# –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –¢–ó: –ü–æ–¥–ø–∏—Å–∫–∏, –ü–∞–≥–∏–Ω–∞—Ü–∏—è, –¢–µ—Å—Ç—ã

## üìã –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏

### ‚úÖ –ó–∞–¥–∞–Ω–∏–µ 1-2: –ú–æ–¥–µ–ª—å –ø–æ–¥–ø–∏—Å–∫–∏ –∏ –ø–æ–ª–µ is_subscribed
- **–ú–æ–¥–µ–ª—å Subscription** —Å–æ–∑–¥–∞–Ω–∞ –≤ `courses/models.py`
- **–ü–æ–ª–µ is_subscribed** –¥–æ–±–∞–≤–ª–µ–Ω–æ –≤ `CourseSerializer`
- **–õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã**: –ø–æ–ª–µ –≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –¥–ª—è —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

### ‚úÖ –ó–∞–¥–∞–Ω–∏–µ 3: –ü–∞–≥–∏–Ω–∞—Ü–∏—è
- **–§–∞–π–ª paginators.py** —Å–æ–∑–¥–∞–Ω —Å —Ç—Ä–µ–º—è –∫–ª–∞—Å—Å–∞–º–∏:
  - `CoursePagination` (5 —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É)
  - `LessonPagination` (10 —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É) 
  - `SubscriptionPagination`
- **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è**: –ø–æ–¥–∫–ª—é—á–µ–Ω–æ —á–µ—Ä–µ–∑ `pagination_class` –≤ ViewSet

### ‚úÖ –ó–∞–¥–∞–Ω–∏–µ 4: –¢–µ—Å—Ç—ã
- **6 —Ç–µ—Å—Ç–æ–≤** –Ω–∞–ø–∏—Å–∞–Ω—ã –≤ `courses/tests.py`
- **–ü–æ–∫—Ä—ã—Ç–∏–µ**:
  - –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–¥–ø–∏—Å–æ–∫ —á–µ—Ä–µ–∑ —Ä–∞–∑–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–∞ –ø–æ–¥–ø–∏—Å–∫–∏
  - CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å —É—Ä–æ–∫–∞–º–∏
  - –ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ä–æ–ª–µ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### API –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã
| –ú–µ—Ç–æ–¥ | URL | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|-----|----------|
| POST | `/api/courses/courses/{id}/subscribe/` | –ü–æ–¥–ø–∏—Å–∞—Ç—å—Å—è/–æ—Ç–ø–∏—Å–∞—Ç—å—Å—è –æ—Ç –∫—É—Ä—Å–∞ |
| GET | `/api/courses/courses/{id}/` | –ü–æ–ª—É—á–∏—Ç—å –∫—É—Ä—Å —Å –ø–æ–ª–µ–º `is_subscribed` |
| GET | `/api/courses/subscriptions/` | –°–ø–∏—Å–æ–∫ –ø–æ–¥–ø–∏—Å–æ–∫ —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è |
| POST | `/api/courses/subscriptions/` | –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é –ø–æ–¥–ø–∏—Å–∫—É |

### –ú–æ–¥–µ–ª—å Subscription
```python
class Subscription(models.Model):
    user = models.ForeignKey(User, on_delete=models.CASCADE)
    course = models.ForeignKey(Course, on_delete=models.CASCADE)
    is_active = models.BooleanField(default=True)
    created_at = models.DateTimeField(auto_now_add=True)
    
    class Meta:
        unique_together = ['user', 'course']